{"ast":null,"code":"import _classCallCheck from \"/Users/stefan/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/stefan/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/stefan/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/stefan/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/stefan/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/stefan/my-app/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport Suggestions from './components/suggestions';\nimport HeaderPoster from './components/header_poster';\nimport TopRatedMovies from './components/top_rated_movies';\nimport UpcomingMovies from './components/upcoming_movies';\nvar API_KEY = '40d60badd3d50dea05d2a0e053cc96c3'; // API KEY\n\nvar URL = 'https://api.themoviedb.org/3/search/multi?'; // API URL\n\nvar PARAMS = '&page=1&include_adult=false`'; // API options\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.performSearch = function () {\n      // Requesting data from API\n      var now = _this.now = Date.now();\n      axios.get(\"\".concat(URL, \"api_key=\").concat(API_KEY, \"&language=en-US&query=\").concat(_this.state.searchInput).concat(PARAMS)).then(function (res) {\n        console.log(res.data.results); // Accepting response if this request was the last request made\n\n        if (now === _this.now) {\n          _this.setState({\n            searchResults: res.data.results\n          });\n        }\n      });\n    };\n\n    _this.getHeaderPoster = function () {\n      axios.get('https://api.themoviedb.org/3/movie/now_playing?api_key=40d60badd3d50dea05d2a0e053cc96c3&language=en-US&page=1').then(function (res) {\n        console.log(res.data);\n\n        _this.setState({\n          trending: res.data.results\n        });\n      });\n    };\n\n    _this.handleInputChange = function () {\n      _this.setState({\n        searchInput: _this.search.value // User input\n\n      }, function () {\n        if (_this.state.searchInput && _this.state.searchInput.length > 1) {\n          if (_this.state.searchInput.length % 2 === 0) {\n            // Request data on user input\n            _this.performSearch();\n          }\n        } else {\n          _this.now = Date.now();\n\n          _this.setState({\n            searchResults: []\n          });\n        }\n      });\n    };\n\n    _this.handleGetGenre = function (genreId) {\n      var mainGenre;\n\n      if (_this.props.movieGenres.genres) {\n        _this.props.movieGenres.genres.forEach(function (genre) {\n          if (genre.id === genreId[0]) {\n            mainGenre = genre.name;\n          }\n        });\n      }\n\n      return mainGenre;\n    };\n\n    _this.getTopMovies = function () {\n      axios.get('https://api.themoviedb.org/3/movie/top_rated?api_key=40d60badd3d50dea05d2a0e053cc96c3&language=en-US&page=1').then(function (res) {\n        console.log(res.data);\n\n        _this.setState({\n          topMovies: res.data.results\n        });\n      });\n    };\n\n    _this.getUpcomingMovies = function () {\n      axios.get('https://api.themoviedb.org/3/movie/upcoming?api_key=40d60badd3d50dea05d2a0e053cc96c3&language=en-US&page=1').then(function (res) {\n        console.log(res.data);\n\n        _this.setState({\n          upcomingMovies: res.data.results\n        });\n      });\n    };\n\n    _this.state = {\n      searchResults: [],\n      // API Call returns an array of results\n      searchInput: '',\n      // Search Term for API Call\n      trending: [],\n      topMovies: [],\n      upcomingMovies: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getHeaderPoster();\n      this.getTopMovies();\n      this.getUpcomingMovies();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-header\",\n        alt: \"app icon\",\n        src: \"Netflix_2015_logo.svg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"search-bar\",\n        placeholder: \"Movies, Tv Shows, Genres\",\n        ref: function ref(input) {\n          return _this2.search = input;\n        },\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"search-results-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(Suggestions, {\n        searchResults: this.state.searchResults,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      })), React.createElement(HeaderPoster, {\n        trending: this.state.trending,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }), React.createElement(UpcomingMovies, {\n        upcomingMovies: this.state.upcomingMovies,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      }), React.createElement(TopRatedMovies, {\n        topMovies: this.state.topMovies,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 128\n        },\n        __self: this\n      }));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/stefan/my-app/src/App.js"],"names":["React","Component","axios","Suggestions","HeaderPoster","TopRatedMovies","UpcomingMovies","API_KEY","URL","PARAMS","App","props","performSearch","now","Date","get","state","searchInput","then","res","console","log","data","results","setState","searchResults","getHeaderPoster","trending","handleInputChange","search","value","length","handleGetGenre","genreId","mainGenre","movieGenres","genres","forEach","genre","id","name","getTopMovies","topMovies","getUpcomingMovies","upcomingMovies","input"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './App.css'\nimport axios from 'axios';\nimport Suggestions from './components/suggestions'\nimport HeaderPoster from './components/header_poster'\nimport TopRatedMovies from './components/top_rated_movies'\nimport UpcomingMovies from './components/upcoming_movies'\n\n\n\n\nconst API_KEY = '40d60badd3d50dea05d2a0e053cc96c3' // API KEY\nconst URL = 'https://api.themoviedb.org/3/search/multi?' // API URL\nconst PARAMS = '&page=1&include_adult=false`' // API options\n\n\n\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      searchResults: [], // API Call returns an array of results\n      searchInput: '', // Search Term for API Call\n\t\t\ttrending: [],\n      topMovies: [],\n      upcomingMovies: []\n    }\n  }\n\n\n\nperformSearch = () => { // Requesting data from API\n    let now = (this.now = Date.now());\n    axios.get(`${URL}api_key=${API_KEY}&language=en-US&query=${this.state.searchInput}${PARAMS}`)\n        .then((res) => {\n            console.log(res.data.results);\n            // Accepting response if this request was the last request made\n            if (now === this.now) {\n               this.setState({ searchResults: res.data.results});\n            }\n        });\n}\n\n\tgetHeaderPoster = () => {\n\t\taxios.get('https://api.themoviedb.org/3/movie/now_playing?api_key=40d60badd3d50dea05d2a0e053cc96c3&language=en-US&page=1')\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data)\n\t\t\t\tthis.setState({ trending: res.data.results})\n\t\t\t})\n\t}\n\n\thandleInputChange = () => {\n    this.setState({\n        searchInput: this.search.value // User input\n    }, () => {\n        if (this.state.searchInput && this.state.searchInput.length >1 ) {\n            if (this.state.searchInput.length % 2 === 0) { // Request data on user input\n                this.performSearch();\n            }\n        } else {\n             this.now = Date.now();\n             this.setState({ searchResults: []}) \n        }\n    });\n\t}\n\n // Compare the item genres with the genre list and returns genre names\n  handleGetGenre = genreId => {\n    let mainGenre;\n    if (this.props.movieGenres.genres) {\n      this.props.movieGenres.genres.forEach(genre => {\n        if (genre.id === genreId[0]) {\n          mainGenre = genre.name;\n        }\n      });\n    }\n\n    return mainGenre;\n  } \n\n  getTopMovies = () => {\n      axios.get('https://api.themoviedb.org/3/movie/top_rated?api_key=40d60badd3d50dea05d2a0e053cc96c3&language=en-US&page=1')\n        .then((res) => {\n          console.log(res.data)\n          this.setState({ topMovies: res.data.results })\n        })\n    }\n\n    getUpcomingMovies = () => {\n      axios.get('https://api.themoviedb.org/3/movie/upcoming?api_key=40d60badd3d50dea05d2a0e053cc96c3&language=en-US&page=1')\n      .then((res) => {\n        console.log(res.data)\n        this.setState({ upcomingMovies: res.data.results })\n      })\n    }\n\ncomponentDidMount(){\n\tthis.getHeaderPoster()\n  this.getTopMovies()\n  this.getUpcomingMovies()\n}\n\n  \n   \n\n  render () {\n\t\t\n    return (\n      <div className='App'>\n        <header>\n          <img className='img-header' alt='app icon' src='Netflix_2015_logo.svg' /> \n          <form>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tclassName=\"search-bar\"\n\t\t\t\t\t\t\tplaceholder=\"Movies, Tv Shows, Genres\"\n\t\t\t\t\t\t\tref={input => this.search = input}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n        </header>\n\t\t\t\t\t\n        <div className='search-results-div'>\n          <Suggestions searchResults={this.state.searchResults} />\n        </div>\n\t\t\t\t<HeaderPoster trending={this.state.trending}/>\n        <UpcomingMovies upcomingMovies={this.state.upcomingMovies}/>\n        <TopRatedMovies topMovies={this.state.topMovies}/>\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}