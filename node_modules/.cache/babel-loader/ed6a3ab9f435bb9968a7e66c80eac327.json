{"ast":null,"code":"import _classCallCheck from \"/Users/stefan/my-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/stefan/my-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/stefan/my-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/stefan/my-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/stefan/my-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/stefan/my-app/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport axios from 'axios';\nimport Suggestions from './components/suggestions';\nimport HeaderPoster from './components/header_poster';\nvar API_KEY = '40d60badd3d50dea05d2a0e053cc96c3'; // API KEY\n\nvar URL = 'https://api.themoviedb.org/3/search/multi?'; // API URL\n\nvar PARAMS = '&page=1&include_adult=false`'; // API options\n\nvar App =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(App, _Component);\n\n  function App(props) {\n    var _this;\n\n    _classCallCheck(this, App);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(App).call(this, props));\n\n    _this.performSearch = function () {\n      // Requesting data from API\n      var now = _this.now = Date.now();\n      axios.get(\"\".concat(URL, \"api_key=\").concat(API_KEY, \"&language=en-US&query=\").concat(_this.state.searchInput).concat(PARAMS)).then(function (res) {\n        console.log(res.data.results); // Accepting response if this request was the last request made\n\n        if (now === _this.now) {\n          _this.setState({\n            searchResults: res.data.results\n          });\n        }\n      });\n    };\n\n    _this.getHeaderPoster = function () {\n      axios.get('https://api.themoviedb.org/3/trending/all/day?api_key=40d60badd3d50dea05d2a0e053cc96c3').then(function (res) {\n        console.log(res.data);\n\n        _this.setState({\n          trending: res.data.results\n        });\n      });\n    };\n\n    _this.handleInputChange = function () {\n      _this.setState({\n        searchInput: _this.search.value // User input\n\n      }, function () {\n        if (_this.state.searchInput && _this.state.searchInput.length > 1) {\n          if (_this.state.searchInput.length % 2 === 0) {\n            // Request data on user input\n            _this.performSearch();\n          }\n        } else {\n          _this.now = Date.now();\n\n          _this.setState({\n            searchResults: []\n          });\n        }\n      });\n    };\n\n    _this.state = {\n      searchResults: [],\n      // API Call returns an array of results\n      searchInput: '',\n      // Search Term for API Call\n      trending: []\n    };\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.getHeaderPoster();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      return React.createElement(\"div\", {\n        className: \"App\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"header\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }, React.createElement(\"img\", {\n        className: \"img-header\",\n        alt: \"app icon\",\n        src: \"Netflix_2015_logo.svg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }), React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"input\", {\n        className: \"search-bar\",\n        placeholder: \"Movies, Tv Shows, Genres\",\n        ref: function ref(input) {\n          return _this2.search = input;\n        },\n        onChange: this.handleInputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }))), React.createElement(HeaderPoster, {\n        trending: this.state.trending,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"search-results-div\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Suggestions, {\n        searchResults: this.state.searchResults,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return App;\n}(Component);\n\nexport default App;","map":{"version":3,"sources":["/Users/stefan/my-app/src/App.js"],"names":["React","Component","axios","Suggestions","HeaderPoster","API_KEY","URL","PARAMS","App","props","performSearch","now","Date","get","state","searchInput","then","res","console","log","data","results","setState","searchResults","getHeaderPoster","trending","handleInputChange","search","value","length","input"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport './App.css'\nimport axios from 'axios';\nimport Suggestions from './components/suggestions'\nimport HeaderPoster from './components/header_poster'\n\n\n\n\nconst API_KEY = '40d60badd3d50dea05d2a0e053cc96c3' // API KEY\nconst URL = 'https://api.themoviedb.org/3/search/multi?' // API URL\nconst PARAMS = '&page=1&include_adult=false`' // API options\n\n\n\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n    this.state = {\n      searchResults: [], // API Call returns an array of results\n      searchInput: '', // Search Term for API Call\n\t\t\ttrending: []\n    }\n  }\n\n\n\nperformSearch = () => { // Requesting data from API\n    let now = (this.now = Date.now());\n    axios.get(`${URL}api_key=${API_KEY}&language=en-US&query=${this.state.searchInput}${PARAMS}`)\n        .then((res) => {\n            console.log(res.data.results);\n            // Accepting response if this request was the last request made\n            if (now === this.now) {\n               this.setState({ searchResults: res.data.results});\n            }\n        });\n}\n\n\tgetHeaderPoster = () => {\n\t\taxios.get('https://api.themoviedb.org/3/trending/all/day?api_key=40d60badd3d50dea05d2a0e053cc96c3')\n\t\t\t.then((res) => {\n\t\t\t\tconsole.log(res.data)\n\t\t\t\tthis.setState({ trending: res.data.results})\n\t\t\t})\n\t}\n\nhandleInputChange = () => {\n    this.setState({\n        searchInput: this.search.value // User input\n    }, () => {\n        if (this.state.searchInput && this.state.searchInput.length >1 ) {\n            if (this.state.searchInput.length % 2 === 0) { // Request data on user input\n                this.performSearch();\n            }\n        } else {\n             this.now = Date.now();\n             this.setState({ searchResults: []}) \n        }\n    });\n}\n\ncomponentDidMount(){\n\tthis.getHeaderPoster()\n}\n\n  \n   \n\n  render () {\n\t\t\n    return (\n      <div className='App'>\n        <header>\n          <img className='img-header' alt='app icon' src='Netflix_2015_logo.svg' /> \n          <form>\n\t\t\t\t\t\t<input \n\t\t\t\t\t\t\tclassName=\"search-bar\"\n\t\t\t\t\t\t\tplaceholder=\"Movies, Tv Shows, Genres\"\n\t\t\t\t\t\t\tref={input => this.search = input}\n\t\t\t\t\t\t\tonChange={this.handleInputChange}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</form>\n        </header>\n\t\t\t\t\t<HeaderPoster trending={this.state.trending}/>\n        <div className='search-results-div'>\n          <Suggestions searchResults={this.state.searchResults} />\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}